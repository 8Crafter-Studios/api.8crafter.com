import { getValueDeclaration, parseTag } from './helpers.js';
export default (context, reflection, sig) => {
    const TAG_NAME = '@source';
    if (reflection.isProject())
        return;
    const valueDeclaration = sig || getValueDeclaration(context, reflection);
    if (!valueDeclaration)
        return;
    if (reflection.comment?.blockTags) {
        reflection.comment.blockTags = reflection.comment.blockTags.map((tag) => {
            if (tag.tag === TAG_NAME) {
                return parseTag(tag, sig || valueDeclaration);
            }
            else {
                return tag;
            }
        });
    }
};
